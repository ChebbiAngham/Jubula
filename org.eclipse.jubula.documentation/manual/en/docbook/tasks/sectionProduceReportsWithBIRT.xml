<section id="producing-reports-with-birt" version="5.0" xmlns="http://docbook.org/ns/docbook"
                                                        xmlns:xi="http://www.w3.org/2001/XInclude"
                                                        xmlns:xl="http://www.w3.org/1999/xlink" >
  <title>Producing long-term reports of test runs with BIRT</title>
  <section id="generating-birt-reports">
    <title>Generating BIRT reports</title>
    <anchor role="helpid" id="testResultSummaryViewContextId">Test Result Summary View</anchor>
    <para>
      From the Test Result Summary View (<xref linkend="working-with-the-test-result-summary-view"/>), you
      can generate reports of your test runs over time using the BIRT
      reporting engine.
    </para>
    <para>
      <para role="tip">Only test runs that have been marked as relevant are
      included in the generated BIRT reports. You can change the
      relevance from the Test Result Summary View
      (<xref linkend="changing-the-relevance-of-a-test-run"/>).</para>
    </para>
    <itemizedlist>
      <listitem>
        <para>
          The ITE offers a selection of example reports:
        </para>
        <variablelist>
          <varlistentry>
            <term>
              Test Comments:
            </term>
            <listitem>
              <para>
                This report shows a table of all failed tests for the
                time chosen, whose relevance is set to true and whose
                name does not include <emphasis>BROKEN</emphasis>. The
                comment title that can be entered in the Test Result
                Summary View (<xref linkend="entering-comments-for-test-runs-in-the-test-result-summary-view"/>) is also
                shown. This report is useful for delivering daily
                status reports of the tests.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>
              Test Execution Overview:
            </term>
            <listitem>
              <para>
                This report shows a list of executed, relevant Test
                Suites over the time period selected. For each day in
                the time period, there is a colored block for the Test
                Suite to display its status. Green means that the test
                ran without any errors. Red means that the test ran,
                but with errors. Yellow means that the test ran more
                than once on that day. White means that the Test Suite
                did not run on this day. This report is useful for
                teams with large amounts of Test Suites who need to
                ensure on a daily basis that all Test Suites were
                started. Test Suites that were not run at all during
                the selected time period are not displayed.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>
              Test Duration:
            </term>
            <listitem>
              <para>
                This report shows the duration of the chosen tests.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>
              Test Execution Histogram:
            </term>
            <listitem>
              <para>
                This report shows the proportion of executed, failed
                and non-executed Test Steps for a test. This report is
                most useful when one specific Test Suite is compared
                to see its progress over time. 
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>
              Test History:
            </term>
            <listitem>
              <para>
                This report shows a graph of the percentage completion
                for the selected Test Suites for the dates given.
                There is also a list of the AUTs, Test Suites and test
                runs.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>
              Test History Absolute:
            </term>
            <listitem>
              <para>
                This report shows the same details as the Test History
                report, but instead of showing the test results in
                percentages, shows the actual amount of Test Steps
                executed. It also shows the difference between
                expected and executed Test Steps.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>
              Test History Absolute and Coverage:
            </term>
            <listitem>
              <para>
                This report shows the same details as the Test History
                Absolute report with any code coverage information
                that is available for the chosen test runs.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>
              Testresult:
            </term>
            <listitem>
              <para>
                This report gives out the full test details up to the
                given nesting level.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>
              Testresult Summary:
            </term>
            <listitem>
              <para>
                This report shows a table of the Test Result Summary
                View for the dates and tests chosen. 
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </listitem>
      <listitem>
        <para>
          To start a report, click the arrow next to the
          ”<emphasis>Create Report</emphasis>” button <mediaobject role="icon" file="../images/createBirtReport.png"/>
          and select the report you want to generate.
        </para>
        <para>
          <para role="tip">If you are not already connected to the database,
          then a dialog will appear to create the connection
          (<xref linkend="tasksdblogin"/>). </para>
        </para>
      </listitem>
      <listitem>
        <para>
          The BIRT report viewer starts (the first time it starts it
          may take some time).
        </para>
      </listitem>
      <listitem>
        <para>
          The parameters for the report are displayed:
        </para>
        <variablelist>
          <varlistentry>
            <term>
              Selection:
            </term>
            <listitem>
              <para>
                In this section, specify which time frame the report
                should be generated for (either from a specific date,
                or using the options <emphasis>yesterday, now, last
                week</emphasis> etc.) as well as for which Project,
                Test Suite, Test Job and the operating system. The
                details in the selection section are combined using
                <emphasis>and</emphasis>. SQL syntax can be used (e.g.
                <literal>%</literal> is used as a wildcard for any
                number of any characters, <literal>_</literal> is used
                as a wildcard for one character). 
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>
              Test run ID:
            </term>
            <listitem>
              <para>
                Some reports are generated for a specific test run.
                The test run ID of the currently selected test summary
                is entered by default, but you can enter a different
                run.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>
              Detail Selection:
            </term>
            <listitem>
              <para>
                For the Testresult and TestresultError reports, you
                must also specify the nesting level (how many levels
                in the hierarchy should be shown) and the ID of the
                test run you want to generate the report for. The test
                run ID for each run can be seen in the Test Result
                Summary View.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </listitem>
      <listitem>
        <para>
          Click ”<emphasis>OK</emphasis>” to start the report
          generation.
        </para>
      </listitem>
      <listitem>
        <para>
          Once the report is ready, it will be shown in the BIRT
          viewer.
        </para>
      </listitem>
      <listitem>
        <para>
          Hover over the points on the graph in a report to see any
          additional information about the point (comment, data value
          etc.).
        </para>
      </listitem>
      <listitem>
        <para>
          You can click through the report’s pages in the viewer and
          also export the report as a PDF. <para role="warning">The option
          <emphasis>Auto</emphasis> when exporting a report leads to
          the right-hand side of the report being cut off.</para>
        </para>
        <para>
          <para role="tip">You can also create your own reports to execute
          (<xref linkend="writing-your-own-birt-reports"/>).</para>
        </para>
      </listitem>
    </itemizedlist>
  </section>
  <section id="writing-your-own-birt-reports">
    <title>Writing your own BIRT reports</title>
    <anchor role="helpid" id="testResultSummaryViewContextId">Test Result Summary View</anchor>
    <para>
      The BIRT reports are examples of how you could document your
      quality over time. You can also create other reports to generate
      depending on which details you want to see in the reports. To
      create reports, you will need to use the BIRT designer from
      Actuate. There is an open source version and a commerical
      version of the designer.
    </para>
    <para>
      The following information describes what information from the
      database can be used to generate BIRT reports. For help using
      BIRT, please see the BIRT documentation.
    </para>
    <para>
      There are four database tables that contain relevant data for
      test results:
    </para>
    <variablelist>
      <varlistentry>
        <term>
          testresult_summary
        </term>
        <listitem>
          <para>
            This table contains one row per executed Test Suite and
            corresponds to the Test Result Summary View in the ITE.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          testresult
        </term>
        <listitem>
          <para>
            This table contains further information about each test
            run (each row in the
            <emphasis>testresult_summary</emphasis> table), including
            all executed nodes. 
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          parameter_details
        </term>
        <listitem>
          <para>
            This table contains the name, type and value for all
            parameters (data) in the executed test.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          parameter_list
        </term>
        <listitem>
          <para>
            This table gives a parent-child relation between the
            executed nodes from the <emphasis>testresult</emphasis>
            table and the parameters in the
            <emphasis>parameter_details</emphasis> table.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <section id="creating-a-birt-report">
      <title>Creating a BIRT report</title>
      <para>
        Using the BIRT report designer, you can create your own
        reports which will display specific information from these
        tables.
      </para>
      <para>
        In the installation directory, in:
      </para>
      <para>
        <emphasis>plugins/com.bredexsw.guidancer.reporting.birt.viewer</emphasis>
      </para>
      <para>
        there is the directory <emphasis>reports</emphasis>.
      </para>
      <para>
        In this directory, the templates for the reports available in
        the ITE are stored. There is also a library which uses the
        database as a data source and contains data sets (SQL queries)
        to this database. The following information is contained in
        the library:
      </para>
      <variablelist>
        <varlistentry>
          <term>
            Datasets:
          </term>
          <listitem>
            <para>
              there are views to show details from the four tables for
              reporting in the database.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            Report parameters:
          </term>
          <listitem>
            <para>
              These are parameters for the database queries that can
              be used to limit the scope of a report.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            Report items:
          </term>
          <listitem>
            <para>
              These are examples of pre-defined tables and graphs
              which can be used in other reports.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            Master pages:
          </term>
          <listitem>
            <para>
              These define the layout of the reports
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            Themes:
          </term>
          <listitem>
            <para>
              The themes contain information about colors, fonts etc.
              The themes are in the ite.css file.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
      <para>
        <para role="warning">Be careful when working with the reports and themes
        that you do not break the existing reports!</para>
      </para>
    </section>
  </section>
  <section id="showing-birt-reports-in-an-external-viewer">
    <title>Showing BIRT reports in an external viewer</title>
    <para>
      The BIRT reports are shown in an integrated BIRT report viewer.
    </para>
    <para>
      If you have a BIRT report viewer elsewhere (e.g. in a Tomcat
      server), then you can put the templates and the library into the
      external BIRT viewer on the server and view them without
      starting the ITE.
    </para>
    <para>
      For information on viewing BIRT reports in external viewers,
      please consult the BIRT documentation.
    </para>
  </section>
</section>