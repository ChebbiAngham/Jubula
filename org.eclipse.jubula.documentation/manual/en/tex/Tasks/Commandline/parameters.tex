% BREDEX LaTeX Template
%  \documentclass is either ``bxreport'' or ``bxarticle''
%                 option is bxpaper
%% \documentclass{bxarticle}
%% % ----------------------------------------------------------------------
%% \begin{document}
%% \title{}
%% \author{}
%% % \author*{Hauptautor}{Liste der Nebenautoren}
%% \maketitle
%% % ----------------------------------------------------------------------
%% \bxversion{0.1}
%% %\bxdocinfo{STATUS}{freigegeben durch}{freigegeben am}{Verteilerliste}
%% \bxdocinfo{DRAFT}{}{}{}
%% % ----------------------------------------------------------------------

%% \end{document}
\index{Test Executor}
\begin{itemize}
\item Once you have browsed to the  correct directory and entered \bxshell{testexec.exe}, you can enter the parameters for the test execution.
\item The test executor has various parameters \bxfigref{cmdlineparams}:
\end{itemize}

\clearpage

\label{cmdlineparams}
\tablehead{\hline\textbf{Detail}&\textbf{Parameter}\\\hline}
\begin{supertabular}{|p{3.0cm}p{8.0cm}|}
\hline

                Help 
                &\bxshell{-h}\\
                & Gives parameter help\\
                \hline
                  Project name
                  & \bxshell{-project <project name>}\\
		  &e.g. \emph{-project ''ExampleProject''}\\
                  \hline
                  Project version
                  & \bxshell{-version <project version>}\\
		  &e.g. \emph{-version ''1.3''}\\
		\hline
                Configuration file
                  & \bxshell{-c <path to configuration file>}\\
		&e.g. \emph{-c ''<pathToQADocs>/config.xml''}\\
                &Use this instead of entering arguments \\
                &via the command line \bxpref{TasksTestExecConfigFile}.\\
                \hline
	        Database URL (optional)
                  & \bxshell{-dburl <URL>}\\
                  &e.g. \emph{-dburl ''db.example.de''}\\
                 &If you enter this parameter, you do not \\
                &need to enter the \bxname{-data} or \bxname{-dbscheme} parameter \bxpref{TasksTestExecDburl}\\
                &You can find the dburl in the \gddb{} preferences\\
	        &If no URL is given, the default will be used.\\
		\hline
		Database username
                  & \bxshell{-dbuser <username>}\\
		&e.g. \emph{-dbuser ''username''}\\
		\hline
		Database password
                  & \bxshell{-dbpw <password>}\\
		&e.g. \emph{-dbpw ''password''}\\
		\hline
	         Server (optional)
                  & \bxshell{-server <AUT Agent hostname>}\\
                 &e.g. \emph{-server ''localhost''}\\
                 &This is optional if you want to use the\\
                 &embedded \gdagent{} \bxpref{TasksTestExecAgent}.\\
		\hline
		Port number (optional)
                  & \bxshell{-port <port number>}\\
                   &e.g. \emph{-port ''60000''}\\
                   &This is optional if you are using the\\
                   &embedded \gdagent{} and want to use a dynamically\\
                   &chosen port. If you are using the embedded\\
                   &\gdagent{} and want to specify the port\\
                   &then you should still enter a port number.\\
                   &If you are working with a separately started\\
                   &\gdagent{}, this argument is required\bxpref{TasksTestExecAgent} .\\
		\hline
		Language
                  & \bxshell{-language <language code>}\\
                   &e.g. \emph{-language ''en\_US''}\\
                  &A list of language codes is available in the reference manual                  \bxextref{\gdrefman}{ref,langcodes}.\\
		\hline
		Test Suite
                  & \bxshell{-testsuite <testsuite name>}\\
                   &e.g. \emph{-testsuite ''suite1''}\\
                   &Use to start a \gdsuite{} \bxpref{TasksTestExecSuiteOrJob}\\
                   &Only one \gdsuite{} or \gdjob{} can be started\\
                \hline
                Test Job
                  & \bxshell{-testjob <testjob name>}\\
                   &e.g. \emph{-testjob ''job1''}\\
                   &Use to start a \gdjob{} \bxpref{TasksTestExecSuiteOrJob}\\
                    &Only one \gdsuite{} or \gdjob{} can be started\\
                \hline
		\gdaut{} configuration name 
                  & \bxshell{-autconfig <configuration name>}\\
		&e.g. \emph{-autconfig ''localconfiguration''}\\
		&Use when starting an \gdaut{} via a configuration \bxpref{TasksTestExecSuiteOrJob}.\\
                \hline
		\gdaut{} ID
                  & \bxshell{-autid <ID>}\\
		&e.g. \emph{-autid ''SimpleAdder1''}\\
                &Use when \gdaut{} was started via \bxname{autrun} \bxpref{TasksTestExecSuiteOrJob}.\\
                   \hline
		Data directory
                  & \bxshell{-datadir <path to external} \\
                  & \bxshell{test data directory>}\\
                   &e.g. \emph{-datadir ''<pathToQADocs>/data''}\\
		\hline
		Result directory
                  & \bxshell{-resultdir <path to directory>}\\
                 &e.g. \emph{-resultdir ''<pathToQADocs>/results''}\\
                \hline
		No run option (optional)
                  & \bxshell{-n}\\
                  &e.g. \emph{-n}\\
		&Checks if the \gdsuite{} is startable.\\
		\hline
		Quiet option (optional)
                  & \bxshell{-q} \\
                  &e.g. \emph{-q}\\
		&Does not give out test information.\\
		\hline
		Timeout (optional)
                  & \bxshell{-timeout <timeout in seconds>}\\
                  &e.g. \emph{-timeout ''3600''}\\
		&Enter an optional timeout for testexec.\\
                \hline
		No screenshot (optional)
                  & \bxshell{-s }\\
                  & no screenshots will be taken on errors.\\
                  \hline
                  \hline
		No screenshots in HTML and XML (optional)
                  & \bxshell{-sx }\\
                  & screenshots will be taken on errors\\
                  & and written to the \gddb{} \\
                  & but they will not appear in the \\
                  & XML and HTML reports. \\
                  \hline
		Test results not relevant (optional)
                  & \bxshell{-r }\\
                  &\\
		&Flags the test results as not relevant \\
                & in the test result summary \bxpref{testresprefs}.\\
	        \hline
                 Workspace
                 & \bxshell{-data <path to workspace>}\\
                 &e.g. \emph{-data ''<pathToQADocs>/workspace''}\\
                 &The \ite{}  workspace with the preference\\
                 &settings for the \gddb{} connection\\ 
                 &This is optional if you enter the \bxname{-dburl}\\
                 &parameter \bxpref{TasksTestExecDburl}\\
                \hline
		Database scheme
                  & \bxshell{-dbscheme <scheme>}\\
		&e.g. \emph{-dbscheme ''embedded''}\\
                 &This is optional if you enter the \bxname{-dburl}\\
                 &parameter \bxpref{TasksTestExecDburl} \\
		\hline
\end{supertabular}

\subsubsection{Using a separate \gdagent{} or the embedded \gdagent{}}
\label{TasksTestExecAgent}
\begin{itemize}
\item When using testexec, you have the choice between working with an \gdagent{} that you start separately, or using an embedded \gdagent{} that is started automatically by testexec.
\item If you want to use a separately started \gdagent{}, then the \gdagent{} must be started on the machine you are testing on. Enter the parameters for the server and port number to connect to this \gdagent{}.
\item If you want to have testexec start and connect to an embedded \gdagent{} automatically, then you have two options:
\begin{itemize}
\item You can leave out both the parameters for the server and the port number. This will result in an embedded \gdagent{} being started on a dynamically chosen port.
\item You can leave out the server parameter, but still enter a port number. This will result in an embedded \gdagent{} being started on the port you define.
\end{itemize}
\end{itemize}


\subsubsection{\gdsuites{} and \gdjobs{}}
\label{TasksTestExecSuiteOrJob}
\begin{itemize}
\item You can either enter a \gdsuite{} to be executed or a \gdjob{}. Only one of these two commands is accepted for the test executor. 
\item If you are starting a \gdsuite{}, your \gdaut{} will be started from its configuration. You must enter the configuration name using the correct parameter for the testexec.
\item  If you are starting a \gdjob{}, you must make sure that the first \gdaut{} you require is already started with the \bxname{autrun} command. You must then enter the \gdaut{} ID as a parameter for the testexec. Any other \gdauts{} required during the test must either also be started already, or started as a part of the test itself.
\end{itemize}

\subsubsection{Using the dburl instead of workspace and dbscheme}
\label{TasksTestExecDburl}
You can use the \bxname{dburl} parameter to specify which \gddb{} should be used instead of entering the dbscheme and workspace parameters. This has the advantage that you do not need to create a workspace on the test machine that is configured for the correct \gddb{}.

\subsubsection{Starting the test execution via testexec}
\begin{enumerate}
\item Once you have entered all the necessary parameters, press \bxkey{enter}. 
\item The client will connect to the \gdagent (either the defined separate \gdagent{} or it will start an embedded \gdagent{} then connect to it), connect to the \gddb{}, open the \gdproject{}, start the \gdaut{} (for a \gdsuite{}) or connect to it (for \gdjobs{})  and then execute the \gdsuite{} or \gdjob{} you specified.
\item Once the test has finished, the client will show an exit code.
\begin{itemize}
  \item \bxcaption{Exit code: 0} indicates that the test was successful.
  \item \bxcaption{Exit code: 1} indicates that the test contained an error.
\end{itemize}
\bxtipp{To stop the test execution, use \bxkey{Ctrl+C}}
\end{enumerate}

\subsubsection{The no-run option}
Using the no run option will check the completeness of the \gdproject{}, test data and the validity of the \gddb{} connection. The \gdagent{} connection is not checked. 

\subsubsection{Passing on arguments to the JVM}
The test executor also accepts arguments to pass on to the Java Virtual Machine. This means that you can, for example, increase the initial and maximum amount of system memory allocated to the JVM with the parameters \bxshell{-Xms<memory\_size>} and \bxshell{-Xmx<memory\_size>}, respectively. For example, the parameter \bxshell{-Xmx128M} would make a maximum of 128 MB of system memory available to the test executor. When entering the standard parameters for the test executor, you may add \bxshell{-J<JVM\_parameter>} for each JVM parameter you wish to set. For example, \bxshell{-J-Xmx128M}. Multiple parameters, like standard parameters, are separated by spaces. \\
Here is an example of defining mutliple JVM parameters: \bxshell{-J-Xmx128M -JXms128M}.
