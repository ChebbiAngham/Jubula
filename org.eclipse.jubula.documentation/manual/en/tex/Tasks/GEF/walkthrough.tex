The first step to implementing your accessibility plug-in is to create Identifiers for each type of GEF component that you wish to make accessible for \gd{} tests. An Identifier is a Java class that implements \bxname{com.bredexsw.guidancer.gef.identifier.IEditPartIdentifier} and provides \gd{} with additional and/or more precise information about a specific org.eclipse.gef.EditPart. The granularity of your Identifier classes will depend on the class hierarchy of the EditParts in the \gdaut{}. For example, if many of the EditParts share a common superclass, then you can write a single Identifier for that superclass that will be able to provide accessibility for all EditParts that inherit from that superclass. See \bxpref{gefreference} for a sample implementation.

The next step is to create an Adapter Factory. This extension will provide \gd{} with information regarding which Identifier to use for each Edit Part.
\begin{enumerate}
\item  Open the plugin.xml file for your accessibility plug-in and select the 'Extension' tab (\bxfigref{extensionstab}).

\begin{figure}[h]
\begin{center}
\includegraphics[width=12.5cm]{Tasks/GEF/PS/extensionstab}
\caption{Plug-in Editor with Extensions tab selected}
\label{extensionstab}
\end{center}
\end{figure}

\item Add an instance of the \bxname{org.eclipse.core.runtime.adapters} extension. 
\item Add a 'factory' to the new extension for each type of GEF component for which you wish to provide accessibility. Each factory must provide adapters from the GEF component that implements \bxname{org.eclipse.gef.EditPart} to \bxname{com.bredexsw.guidancer.gef.identifier.IEditPartIdentifier} (\bxfigref{factory}).

\begin{figure}[h]
\begin{center}
\includegraphics[width=12.5cm]{Tasks/GEF/PS/factory}
\caption{Plug-in Editor with defined Adapter Factory}
\label{factory}
\end{center}
\end{figure}

\item Once you have defined your Adapter Factory, you will need to implement it. Your Adapter Factory, which must implement \bxname{org.eclipse.core.runtime.IAdapaterFactory}, provides appropriate instances of your created Identifiers for a given Edit Part. See \bxpref{gefreference} for a sample implementation. 

\item Once you have created your Identifiers and Adapter Factories, you can export your plug-in and copy it to the 'plugins' directory of your \gdaut{} (\bxfigref{exportplugin}).

\bxtipp{When starting your \gdaut{} after adding or replacing your accessibility plug-in, it is recommended that the \gdaut{} be started with the -clean parameter.}

\begin{figure}[h]
\begin{center}
\includegraphics[width=12.5cm]{Tasks/GEF/PS/exportplugin}
\caption{Exporting the Project to a Plug-in}
\label{exportplugin}
\end{center}
\end{figure}

\end{enumerate}
